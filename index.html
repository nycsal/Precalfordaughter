<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maryam - Pre Cal Master 💕</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    html, body {
      margin:0; padding:0; box-sizing:border-box; 
      background:linear-gradient(135deg, #ffecd2 60%, #ffe0b2 100%);
      font-family:'Segoe UI',Arial,sans-serif;
    }
    .header {
      background: linear-gradient(100deg,#ff9742,#ffb840 75%);
      color: white;
      padding: 22px 0 12px 0;
      text-align: center;
      font-size: 2em;
      font-weight: bold;
      letter-spacing: 2px;
      border-radius: 0 0 23px 23px;
      box-shadow:0px 3px 16px #ce6d2333;
      margin-bottom: 4px;
      position:relative;
    }
    .flex-toolbar {
      width:100vw; 
      display:flex; 
      justify-content:center; 
      align-items:center;
      gap:10px;
      margin-bottom:10px;
      margin-top: 7px;
    }
    .toolbar-btn, .toolbar-btn:visited {
      display:inline-flex; align-items:center; justify-content:center;
      border:2px solid #935113;
      outline:none; 
      border-radius: 13px;
      background: linear-gradient(90deg,#ffd083 36%,#ffe29a 100%);
      color:#634014;
      font-weight:bold;
      font-size:1.15em;
      min-height:44px;
      cursor:pointer;
      box-shadow:0 1px 8px #b97b3a35;
      padding:13px 28px;
      transition: background .12s, box-shadow .14s, color .11s;
      user-select:none;
      margin:0 0.13em;
      text-decoration:none;
    }
    .quiz-btn {
      background: linear-gradient(90deg,#ffbe4a 36%,#ff9040 96%);
      color:#5b2b03; font-weight:bold; min-width:142px; font-size:1.09em;
      animation: pulse 1.6s infinite alternate;
      border:2px solid #935113;
    }
    @keyframes pulse {
      0%{ box-shadow:0 0px 8px #ffb64735;}
      100%{ box-shadow:0 0px 18px #ffd566af;}
    }
    .toolbar-btn-brain {
      background: linear-gradient(100deg,#ffeabb 85%,#ffe0b2 100%);
      color:#634014; min-width:99px; max-width:120px; font-size:1em;
      padding: 8px 16px;
    }
    .toolbar-btn-hamburger {
      background: linear-gradient(80deg,#ffd799 80%,#ffe9ad 100%);
      color:#a84826; font-size:1.22em; font-weight:600; min-width:54px; 
      padding:9px 19px;
    }
    .toolbar-btn-reset {
      background: linear-gradient(77deg,#fff2df 50%,#ffdab9 100%);
      color:#c94a0c; margin-left:0.5em; min-width:44px; font-size:1.2em;
      padding:8.5px 12.5px;
      border-color: #7a3c0a;
    }
    .toolbar-btn-reset:hover {
      background: #ffead2; color: #e15507; border-color: #dd7a24;
    }
    @media (max-width: 600px) {
      .flex-toolbar {gap:7px;}
      .toolbar-btn, .toolbar-btn-brain, .toolbar-btn-hamburger, .quiz-btn, .toolbar-btn-reset {
        font-size:1em; padding:10px 1.1em; min-height:40px; min-width:0;
      }
      .quiz-btn {min-width:84px;}
    }
    .container {
      width:98%;
      max-width:520px;
      margin:8px auto 26px auto;
    }
    .unit-card {
      background: #fffefb;
      box-shadow:0 0 8px #ce80083a;
      margin-bottom:18px; border-radius:16px;
      padding:15px 7px 18px 17px; animation:fadein .8s;
      border:2.5px solid #984e13;
    }
    @keyframes fadein {
      0%{transform:translateY(10px);opacity:0;}
      100%{transform:translateY(0);opacity:1;}
    }
    .unit-title {
      font-size:1.14em; font-weight:bold; color:#ba6608;
      display:flex; align-items:center; margin-bottom:9px; letter-spacing:0.2px;
    }
    .unit-title .emoji { margin-right:8px; font-size: 1.11em; }
    .box-row {
      display:flex; gap:16px; padding: 4px 0 6px 0;
    }
    .quizbox {
      width:54px; height:54px; border-radius:14px;
      background:linear-gradient(140deg,#fff1d6 68%,#ffe9bc 95%);
      display:flex; align-items:center;justify-content:center;
      font-size:1.31em; box-shadow:0 1.5px 8px #f8cb9650;
      cursor:pointer; transition:transform .09s;
      border:2.7px solid #ae6b28; position:relative; outline:none; user-select: none;
    }
    .quizbox.checked {
      background:linear-gradient(120deg,#ffbe80 70%,#fff6df 100%);
      border:2.7px solid #b97236;
      color:#935d22; animation: checkedpop .34s cubic-bezier(.36,2,.65,.15);
    }
    @keyframes checkedpop {
      0%{transform:scale(1);}
      60%{transform:scale(1.13);}
      100%{transform:scale(1);}
    }
    .quizbox .checkmark { font-size:1.6em; color:#935d22; position:absolute;top:1px;left:14px; }

    .modal-bg {
      position:fixed;top:0;left:0;width:100vw;height:100vh;
      background:rgba(41,30,10,.19);
      display:none;justify-content:center;align-items:center;z-index:20;
      animation: fadebg .17s;
    }
    @keyframes fadebg {from{opacity:0;} to{opacity:1;} }
    .modal-large {
      background:linear-gradient(120deg,#fff2d2 82%,#ffe3b4 100%);
      box-shadow:0 7px 55px #dfad6dee;
      border-radius:29px;
      width: 98vw; max-width:510px; min-width:250px;
      min-height:420px; max-height:97vh;
      padding:33px 18px 22px 18px; position:relative;
      overflow-y:auto; border:3.5px solid #a75e0c;
      animation: popin .25s cubic-bezier(.36,2,.65,.15);
      display: flex; flex-direction: column; justify-content: flex-start; align-items: center;
    }
    @media (max-width: 680px) {
      .modal-large {max-width:98vw;width:99vw;padding-left: 1vw;padding-right: 1vw;}
    }
    @keyframes popin {
      0%{transform:scale(.91) translateY(70px);opacity:0;}
      70%{transform:scale(1.03);}
      100%{transform:scale(1) translateY(0);opacity:1;}
    }
    .modal-large .close-modal-btn {
      position:absolute;top:13px;right:17px;
      font-size:2em;background:none;border:none;
      color:#a45a13; cursor:pointer; transition:.09s;z-index:1;
    }
    .modal-large .close-modal-btn:active { color: #ea7b15;}
    .modal-large h3 {font-size:1.18em;margin-bottom:17px;color:#a05a08;}
    .prob-content {margin-bottom:15px; font-size:1.09em;text-align:center;}
    .prob-input {display:flex; justify-content:center;align-items:center;margin-bottom:9px;}
    .prob-input input {
      font-size:1.13em; padding:8px 12px; border-radius:7px;
      border:1.7px solid #ffbe82; outline:none; margin-right:8px;
      width: 110px; background:#fff1df; transition:border .2s;
    }
    .prob-input input:focus {
      border: 1.8px solid #ff9800; background:#fff7ef;
    }
    .prob-input button {
      background:#ffd77c; color:#9c6009; border:none;
      border-radius:7px; padding:8px 16px; font-size:1em; cursor:pointer;
      transition: background .13s; font-weight:bold;
    }
    .prob-input button:active { background:#ffa046;}
    .prob-feedback { min-height:24px; font-weight:500; font-size:1.13em;margin-bottom: 13px;transition: color .13s;}
    .prob-feedback.correct {color: #ec801a; animation:bounce .32s;}
    .prob-feedback.incorrect {color:#db460f;}
    .example {
      margin:14px 0 4px 0; padding:11px 14px;
      background:linear-gradient(140deg,#ffe5cd 60%, #fffaf2 100%);
      border-radius:8px; font-size:1.04em;color:#ab7627;
      box-shadow:0 2px 6px #eccd9a3a; text-align:left;
      border:1.2px solid #e2ad64;
    }
    .moreinfo-link {margin:7px 0 0 0;}
    .moreinfo-link a {
      color: #da870c;text-decoration: underline;font-size:1.01em; font-weight:500;
    }
    /* QUIZ MODAL AND QUIZ UI */
    .quiz-modal-bg {
      position:fixed; top:0; left:0; width:100vw; height:100vh;
      background:rgba(80, 65, 15, .14);
      display:none; justify-content:center; align-items:center; z-index:120;
    }
    .quiz-modal {
      background:linear-gradient(115deg,#fff6e1 81%,#ffe8b4);
      box-shadow:0 5px 30px #ebc16fab;
      border-radius:32px;
      width: 95vw; max-width:480px; min-width:220px; min-height:325px; max-height:93vh;
      padding:29px 12px 16px 12px; position:relative; overflow-y:auto;
      border:3px solid #b57925;
      animation: popin .18s cubic-bezier(.26,1.8,.45,1.07);
    }
    .quiz-modal .close-quiz-btn {
      position: absolute; top:7px; right:14px;
      font-size:1.47em; background:none; border:none; color:#be7c19; cursor:pointer; transition:.09s; z-index: 1;
    }
    .quiz-modal .close-quiz-btn:active { color: #ed8825;}
    .quiz-menu-title {
      text-align:center; font-size:1.14em; font-weight:bold; margin-bottom:13px; color:#bc791b;
    }
    .quiz-menu-list {display: flex; flex-wrap:wrap; justify-content:center; gap:14px;margin:9px 0 0 0;}
    .quiz-menu-entry {
      background:linear-gradient(95deg,#ffeacc 70%,#ffd999 98%);
      border-radius:10px;
      padding:10px 18px 10px 18px;
      color:#924e13; font-weight:600; margin-bottom:7px;
      cursor:pointer; font-size:1em; transition:box-shadow .11s, background .17s;
      box-shadow:0 0.5px 4px #db9a3852; outline: none; text-align:center; min-width: 120px;
      border:1.7px solid #bd8736;
    }
    .quiz-menu-entry:active { box-shadow:0 2.5px 10px #ffd19760;background:linear-gradient(84deg,#ffc574 40%,#ffe7af 88%);}
    .quiz-question-title {font-size:1.01em; font-weight:bold; color:#d8832f; margin-bottom:13px;text-align:center;}
    .quiz-choices {margin-bottom:8px;}
    .quiz-choices label {display:block;margin-bottom:8px;font-size:1em;cursor:pointer;text-align:left;}
    .quiz-choices input[type="radio"]{margin-right:6.5px; accent-color:#fdab39;}
    .quiz-next-btn {
      padding:7px 19px; border-radius:7px; background:#ffb42f; color:#963c08; border:none;font-size:1em; font-weight:bold; cursor:pointer; margin-top:3px; transition:.11s;
    }
    .quiz-next-btn:active {background:#ffeed2;}
    .quiz-score {font-size:1em; font-weight:600; color:#c07221; margin-bottom:3px; text-align:center;}
    .quiz-feedback { min-height:18px; font-size:1em; font-weight:600;text-align:center;margin-bottom:8px;}
    .quiz-feedback.correct {color:#ff8605; animation:bounce .32s;}
    .quiz-feedback.incorrect {color:#ef4b1d;}
    .quiz-final-badge { font-size:2.2em;margin-bottom:12px;text-align:center;animation:popin .38s;display:block;}
    .quiz-final-congrats {text-align:center; margin: 22px 0 11px 0;
      font-size:1.13em; font-weight:bold; color: #f48c18; animation:popin .65s cubic-bezier(.13,2,.36,1.2);}
    .quiz-final-score {font-size:1.03em;font-weight:bold;text-align:center; color:#c97d2b;margin-bottom:3px;}
    @media (max-width: 580px) {
      .container{padding:0;}
      .modal-large,.quiz-modal{padding-left:2vw; padding-right:2vw;}
      .unit-card{padding-left:4vw;}
      .quizbox {width: 18vw; height:18vw; min-width:44px;}
    }
  </style>
</head>
<body>
  <div class="header">Maryam - Pre Cal Master 💕</div>
  <div class="flex-toolbar">
    <button class="toolbar-btn toolbar-btn-brain" onclick="window.open('https://nycsal.github.io/Kaka/','_blank')">
      🧠 Relax
    </button>
    <button class="quiz-btn" onclick="openQuizMenu()">Take a Quiz!</button>
    <button class="toolbar-btn toolbar-btn-hamburger" onclick="window.open('https://nycsal.github.io/KP-ordering/','_blank')" title="Food ordering">
      🍔
    </button>
    <button class="toolbar-btn toolbar-btn-reset" onclick="resetProgress()" title="Reset all completed">
      ♻️
    </button>
  </div>
  <div class="container" id="unitsContainer"></div>

  <!-- Practice Popup -->
  <div class="modal-bg" id="modalBg">
    <div class="modal-large" id="modalBox">
      <button class="close-modal-btn" onclick="closeModal()">&times;</button>
      <h3 id="modalTitle"></h3>
      <div class="prob-content" id="modalContent"></div>
      <form class="prob-input" id="modalForm" onsubmit="return false;">
        <input type="text" id="userInput" autocomplete="off" placeholder="Type your answer…" />
        <button type="submit">Check</button>
      </form>
      <div class="prob-feedback" id="feedback"></div>
      <div class="example" id="modalExample"></div>
      <div class="moreinfo-link" id="modalInfo"></div>
    </div>
  </div>

  <!-- Quiz Modal -->
  <div class="quiz-modal-bg" id="quizModalBg">
    <div class="quiz-modal" id="quizModal">
      <button class="close-quiz-btn" onclick="closeQuizModal()">&times;</button>
      <div id="quizContent"></div>
    </div>
  </div>
<script>
// ==== DATA, LOGIC, ETC: 100% as previous version - no changes except color/style
const unitsData = [
  // ... (same as provided in previous version; omitted for brevity)
];

// -- Insert all JS code from your previous working version here --
// -- Do not change or touch anything except CSS above. --

// Full script from previous app (unchanged - see prior for full code)
// [JS code exactly as before]
</script>
</body>
</html>

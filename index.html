<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maryam - Pre Cal Master üíï</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI',Arial,sans-serif; background:linear-gradient(120deg,#FDE5EC,#A9E5FF);}
    .header {
      background: linear-gradient(90deg,#fb4b7e,#86f3ff 70%);
      color: white;
      padding: 18px 0 14px 0;
      text-align: center;
      font-size: 2.1em;
      font-weight: bold;
      letter-spacing: 2px;
      border-radius: 0 0 28px 28px;
      box-shadow:0 3px 18px #ffa4e638;
      margin-bottom: 7px;
    }
    .container {
      width:96%;
      max-width:540px;
      margin:8px auto 28px auto;
      border-radius:12px;
    }
    .unit-card {
      background: white;
      box-shadow:0 0 10px #daefff44;
      margin-bottom:18px;
      border-radius:16px;
      padding: 11px 10px 15px 10px;
      animation:fadein .8s;
    }
    @keyframes fadein {
      0%{transform:translateY(14px);opacity:0;}
      100%{transform:translateY(0);opacity:1;}
    }
    .unit-title {
      font-size:1.15em;
      font-weight:bold;
      color:#2a647e;
      display:flex;
      align-items:center;
      margin-bottom:6px;
    }
    .unit-title .emoji {
      margin-right:8px;
      font-size: 1.15em;
    }
    .box-row {
      display:flex;
      gap:12px;
      padding: 3px 0 0 0;
    }
    .quizbox {
      width:46px; height:46px;
      border-radius:14px;
      background:linear-gradient(150deg,#ffe3f7 70%,#d2ecff);
      display:flex;
      align-items:center;justify-content:center;
      font-size:1.35em;
      box-shadow:0 2px 7px #bcefff62;
      cursor:pointer;
      transition:transform .09s;
      border:2.3px solid #e6caed;
      position:relative;
      outline:none;
      user-select: none;
    }
    .quizbox.checked {
      background:linear-gradient(110deg,#57e0a5 70%,#d2ecff);
      border:2.3px solid #44d880;
      color:#40965c;
      animation:checkedpop .38s cubic-bezier(.36,2,.65,.15);
    }
    @keyframes checkedpop {
      0%{transform:scale(1);}
      60%{transform:scale(1.19);}
      100%{transform:scale(1);}
    }
    .quizbox .checkmark {
      font-size:1.7em; color:#40965c;
      position:absolute;top:2px;left:8px;
    }
    /* Modal styles */
    .modal-bg {
      position:fixed;
      top:0;left:0;width:100vw;height:100vh;
      background:rgba(0,0,0,0.18);
      display:none;justify-content:center;
      align-items:center;z-index:10;
      animation: fadebg .18s;
    }
    @keyframes fadebg {
      from {opacity:0;}
      to {opacity:1;}
    }
    .modal {
      background: linear-gradient(120deg,#f9fafe 70%,#b5ecec);
      box-shadow:0 8px 34px #c4ecff88;
      border-radius:20px;
      max-width: 96vw;
      padding:32px 18px 22px 18px;
      position:relative;
      min-width:280px;
      width:350px;
      animation: popin .3s cubic-bezier(.36,2,.65,.15);
    }
    @keyframes popin {
      0%{transform:scale(.88) translateY(80px);opacity:0;}
      70%{transform:scale(1.05);}
      100%{transform:scale(1) translateY(0);opacity:1;}
    }
    .modal .close {
      position:absolute;top:12px;right:18px;
      font-size:1.4em;
      background:none;border:none; color:#aaa;cursor:pointer;
      transition:.1s;
    }
    .modal .close:hover { color:#fa6096; }
    .modal h3 {font-size:1.15em; margin-bottom:9px; color:#244080;}
    .prob-content { margin-bottom:15px; font-size:1.05em;}
    .prob-input input {
      font-size:1.15em;
      padding:6px 12px; border-radius:6px;
      border:1.5px solid #97c2eb;
      outline:none;margin-right:8px;
      width: 75px;
      transition: border .2s;
    }
    .prob-input input:focus {
      border: 1.6px solid #fb4b7e;
    }
    .prob-input button {
      background: #86f3ff; color:#501049;
      border: none; border-radius:6px;
      padding:8px 15px; font-size:1em; cursor:pointer;
      transition: background .19s;
      font-weight:bold;
    }
    .prob-input button:hover { background:#7be2f9; }
    .prob-feedback { margin-top:8px; min-height:24px; font-weight:500;}
    .example {
      margin:16px 0 7px 0; padding:10px 12px;
      background: linear-gradient(140deg,#ffeef1 60%,#bafffe25);
      border-radius:9px;
      font-size:1.01em;
      color:#665c60;
    }
    .video-link a {
      color: #27799d;
      text-decoration: underline;
      font-size:0.98em;
      font-weight:500;
    }
    /* For small screens */
    @media (max-width: 530px) {
      .modal {width:98vw;min-width:0;}
      .container{padding: 0 2.5vw;}
    }
  </style>
</head>
<body>
  <div class="header">Maryam - Pre Cal Master üíï</div>
  <div class="container" id="unitsContainer"></div>

  <!-- Popup/modal -->
  <div class="modal-bg" id="modalBg">
    <div class="modal" id="modalBox">
      <button class="close" onclick="closeModal()">&times;</button>
      <h3 id="modalTitle"></h3>
      <div class="prob-content" id="modalContent"></div>
      <form class="prob-input" id="modalForm" onsubmit="return false;">
        <input type="text" id="userInput" autocomplete="off" placeholder="Your answer‚Ä¶" />
        <button type="submit">Check</button>
      </form>
      <div class="prob-feedback" id="feedback"></div>
      <div class="example" id="modalExample"></div>
      <div class="video-link" id="modalVideo"></div>
    </div>
  </div>

<script>
const unitsData = [
  {
    title: "Composite & Inverse Functions", emoji:"üîó",
    boxes: [
      {
        question: "If f(x) = x + 4, g(x) = 2x‚àí1, what is (f ‚àò g)(3)?",
        answer: "9",
        example: "Example: (f ‚àò g)(x) = f(g(x)).<br>g(3) = 2√ó3‚àí1 = 5.<br>Then f(5) = 5+4 = 9.",
        vid: "https://www.khanacademy.org/math/precalculus/composite-functions"
      },
      {
        question: "Given h(x) = 3x‚àí2, find h‚Åª¬π(7).",
        answer: "3",
        example: "Example: Set 3x‚àí2=7 ‚áí 3x=9 ‚áí x=3, so h‚Åª¬π(7)=3.",
        vid: "https://www.khanacademy.org/math/algebra2/functions-and-graphs/inverse-functions/v/find-the-inverse-of-a-function"
      },
      {
        question: "For f(t)=t/(t‚àí8) and h(t)=‚àí2t, what is f(h(‚àí5))?",
        answer: "10/13",
        example: "Example: h(‚àí5)=10. Then f(10)=10/(10‚àí8)=5. (But with t=-10: f(-10) = -10/(-10-8) = -10/-18 = 5/9).",
        vid: "https://www.khanacademy.org/math/precalculus/composite-functions/composite-functions/e/composite-functions"
      },
      {
        question: "Is f(x)=x¬≤ one-to-one?",
        answer: "no",
        example: "A function is one-to-one if each output comes from only one input. f(x)=x¬≤ is not one-to-one because f(2)=f(‚àí2).",
        vid: "https://www.khanacademy.org/math/algebra2/functions-and-graphs/one-to-one/v/one-to-one-and-onto-functions"
      }
    ]
  },
  {
    title: "Trigonometry", emoji:"üåì",
    boxes: [
      {
        question: "What is sin(30¬∞)?",
        answer: "0.5",
        example: "Sin(30¬∞)=1/2=0.5. Handy triangle: 30-60-90.",
        vid: "https://www.khanacademy.org/math/precalculus/trig-functions"
      },
      {
        question: "Find cos(60¬∞).",
        answer: "0.5",
        example: "Cos(60¬∞) = 1/2 = 0.5.",
        vid: "https://www.khanacademy.org/math/trigonometry/unit-circle-trig-func"
      },
      {
        question: "What is tan(45¬∞)?",
        answer: "1",
        example: "Tan(45¬∞)=1, since sin(45¬∞)/cos(45¬∞)=‚àö2/2 √∑ ‚àö2/2 =1.",
        vid: "https://www.khanacademy.org/math/trigonometry/trig-functions/tangent-tutorial/v/tangent-function-1"
      },
      {
        question: "If sin(Œ∏)=0.6 and Œ∏ is acute, what is cos(Œ∏)?",
        answer: "0.8",
        example: "Use sin¬≤Œ∏+cos¬≤Œ∏=1: 0.6¬≤+cos¬≤Œ∏=1 ‚áí cosŒ∏=‚àö(1‚àí0.36)=0.8.",
        vid: "https://www.khanacademy.org/math/trigonometry/trig-functions/pythagorean-trig-identity/v/using-the-pythagorean-trig-identity"
      }
    ]
  },
  {
    title: "Complex Numbers", emoji:"üßä",
    boxes: [
      {
        question: "Simplify (2 + 3i) + (4 ‚àí 2i).",
        answer: "6+1i",
        example: "Add real to real, imaginary to imaginary: 2+4=6, 3i‚àí2i=1i.",
        vid: "https://www.khanacademy.org/math/algebra2/complex-numbers"
      },
      {
        question: "What is i¬≤?",
        answer: "-1",
        example: "By definition, i¬≤ = ‚àí1.",
        vid: "https://www.khanacademy.org/math/algebra2/complex-numbers/mult-div-complex/v/imaginary-unit"
      },
      {
        question: "Multiply (1+i)(2‚àíi).",
        answer: "3+i",
        example: "Expand: 1√ó2 + 1√ó(‚àíi) + i√ó2 + i√ó(‚àíi) = 2‚àíi+2i‚àíi¬≤ = 2+i‚àí(‚àí1)=3+i.",
        vid: "https://www.khanacademy.org/math/algebra2/complex-numbers/mult-div-complex/v/multiplying-complex-numbers"
      },
      {
        question: "What is the modulus of 3+4i?",
        answer: "5",
        example: "|3+4i| = sqrt(3¬≤+4¬≤) = 5.",
        vid: "https://www.khanacademy.org/math/precalculus/complex-numbers-polar-form/modulus-and-argument-of-complex-numbers/v/modulus-of-a-complex-number"
      }
    ]
  },
  {
    title: "Rational Functions", emoji:"üîÑ",
    boxes: [
      {
        question: "Find the vertical asymptote(s) of f(x) = 1/(x‚àí2).",
        answer: "x=2",
        example: "Set denominator=0: x‚àí2=0 ‚áí x=2. So vertical asymptote at x=2.",
        vid: "https://www.khanacademy.org/math/algebra2/rational-expressions-and-functions"
      },
      {
        question: "What is the domain of g(x)=2/(x+3)?",
        answer: "x‚â†-3",
        example: "Cannot divide by zero: x+3=0 ‚áí x‚â†-3.",
        vid: "https://www.khanacademy.org/math/precalculus/polynomial-and-rational/rational-functions/v/domain-of-rational-function"
      },
      {
        question: "Simplify (x¬≤‚àí9)/(x‚àí3).",
        answer: "x+3",
        example: "x¬≤‚àí9 = (x‚àí3)(x+3). So, (x¬≤‚àí9)/(x‚àí3)=x+3 (x‚â†3).",
        vid: "https://www.khanacademy.org/math/algebra2/rational-expressions-and-functions"
      },
      {
        question: "Find the horizontal asymptote of f(x)= (2x¬≤+5)/(x¬≤).",
        answer: "y=2",
        example: "Same degree: divide leading coefficients. 2/1=2.",
        vid: "https://www.khanacademy.org/math/algebra2/rational-expressions-and-functions"
      }
    ]
  },
  {
    title: "Conic Sections", emoji:"üåÄ",
    boxes: [
      {
        question: "Equation for a circle with center (0,0) and radius 5?",
        answer: "x¬≤+y¬≤=25",
        example: "Standard: (x‚àíh)¬≤+(y‚àík)¬≤=r¬≤. Here: x¬≤+y¬≤=25.",
        vid: "https://www.khanacademy.org/math/geometry/conic-sections"
      },
      {
        question: "Write standard form of y=2(x‚àí1)¬≤+3.",
        answer: "parabola",
        example: "This is a parabola opening up, vertex at (1,3). Standard: y=a(x‚àíh)¬≤+k.",
        vid: "https://www.khanacademy.org/math/algebra2/conics"
      },
      {
        question: "Identify conic: x¬≤/9 + y¬≤/16 = 1",
        answer: "ellipse",
        example: "Sum of squares with different coefficients: ellipse.",
        vid: "https://www.khanacademy.org/math/precalculus/conic-sections"
      },
      {
        question: "If e=1 in the conic section, what shape?",
        answer: "parabola",
        example: "Eccentricity e=1 for a parabola, e<1 for ellipse, e>1 for hyperbola.",
        vid: "https://www.khanacademy.org/math/precalculus/conic-sections"
      }
    ]
  },
  {
    title: "Vectors", emoji:"‚û°Ô∏è",
    boxes: [
      {
        question: "Add the vectors ‚ü®2,5‚ü© and ‚ü®‚àí1,3‚ü©.",
        answer: "1,8",
        example: "Add components: ‚ü®2+(‚àí1),5+3‚ü© = ‚ü®1,8‚ü©.",
        vid: "https://www.khanacademy.org/math/precalculus/vectors"
      },
      {
        question: "Find the magnitude of ‚ü®3,4‚ü©.",
        answer: "5",
        example: "‚àö(3¬≤+4¬≤)=‚àö9+16=‚àö25=5.",
        vid: "https://www.khanacademy.org/math/precalculus/vectors/vec-norms/v/magnitude-of-vectors"
      },
      {
        question: "Dot product: ‚ü®1,2‚ü© ‚ãÖ ‚ü®3,4‚ü© = ?",
        answer: "11",
        example: "1√ó3+2√ó4=3+8=11.",
        vid: "https://www.khanacademy.org/math/precalculus/vectors/vec-dot-prod/v/dot-product-1"
      },
      {
        question: "What is the direction angle of ‚ü®0,1‚ü©?",
        answer: "90",
        example: "Upward y-axis is a 90¬∞ angle.",
        vid: "https://www.khanacademy.org/math/precalculus/vectors/vecs-in-the-plane/v/vector-direction-and-angle"
      }
    ]
  },
  {
    title: "Matrices", emoji:"üßÆ",
    boxes: [
      {
        question: "Add matrices: [[2,4],[3,1]] + [[1,3],[0,2]].",
        answer: "3,7,3,3",
        example: "Add terms: 2+1=3, 4+3=7, 3+0=3, 1+2=3.",
        vid: "https://www.khanacademy.org/math/precalculus/matrix-precalculus"
      },
      {
        question: "Determinant of [[2,5],[1,4]]?",
        answer: "3",
        example: "2√ó4‚àí1√ó5=8‚àí5=3.",
        vid: "https://www.khanacademy.org/math/precalculus/matrix-precalculus/matrix-determinants-precalc/v/2x2-determinants"
      },
      {
        question: "Is [[1,0],[0,1]] the identity matrix?",
        answer: "yes",
        example: "Identity matrix leaves vector unchanged when multiplied.",
        vid: "https://www.khanacademy.org/math/precalculus/matrix-precalculus/identity-inverse-matrix/v/identity-matrix"
      },
      {
        question: "What is the result of multiplying a matrix by a zero matrix?",
        answer: "zero",
        example: "Any matrix times zero matrix gives zero matrix.",
        vid: "https://www.khanacademy.org/math/precalculus/matrix-precalculus/matrix-multiplication-precalc/v/matrix-multiplication-intro"
      }
    ]
  },
  {
    title: "Probability & Combinatorics", emoji:"üé≤",
    boxes: [
      {
        question: "How many ways to order 3 books on a shelf?",
        answer: "6",
        example: "3! = 6 ways.",
        vid: "https://www.khanacademy.org/math/statistics-probability/probability-library"
      },
      {
        question: "What‚Äôs the probability of getting heads in one coin flip?",
        answer: "0.5",
        example: "Fair coin: heads or tails, so 1/2 = 0.5.",
        vid: "https://www.khanacademy.org/math/statistics-probability/probability-library"
      },
      {
        question: "Choose 2 from 5 objects. How many ways?",
        answer: "10",
        example: "5 choose 2: 5!/(2!3!)=10.",
        vid: "https://www.khanacademy.org/math/statistics-probability/probability-library"
      },
      {
        question: "Probability of rolling a 3 on a fair die?",
        answer: "1/6",
        example: "There are 6 outcomes, so 1/6.",
        vid: "https://www.khanacademy.org/math/statistics-probability/probability-library"
      }
    ]
  },
  {
    title: "Graphs", emoji:"üìà",
    boxes: [
      {
        question: "What is the y-intercept of y=2x+3?",
        answer: "3",
        example: "In y=mx+b, y-intercept is b: here, 3.",
        vid: "https://www.khanacademy.org/math/algebra/linear-equations"
      },
      {
        question: "What shape is the graph of y=x¬≤?",
        answer: "parabola",
        example: "The graph y=x¬≤ is a parabola opening upwards.",
        vid: "https://www.khanacademy.org/math/algebra/quadratics"
      },
      {
        question: "Slope of the line y=‚àí5x+1?",
        answer: "-5",
        example: "In y=mx+b, m is slope: here, ‚àí5.",
        vid: "https://www.khanacademy.org/math/algebra/linear-equations"
      },
      {
        question: "Circle equation with center (0,0) and radius 3?",
        answer: "x¬≤+y¬≤=9",
        example: "Formula: (x‚àíh)¬≤+(y‚àík)¬≤=r¬≤ ‚Üí x¬≤+y¬≤=9.",
        vid: "https://www.khanacademy.org/math/geometry/conic-sections"
      }
    ]
  },
  {
    title: "Sequences & Series", emoji:"üî¢",
    boxes: [
      {
        question: "Next term: 3, 7, 11, ___?",
        answer: "15",
        example: "It's an arithmetic sequence: add 4 each time.",
        vid: "https://www.khanacademy.org/math/algebra/sequences"
      },
      {
        question: "Sum of first 5 terms: a‚ÇÅ=2, d=3 (arithmetic)",
        answer: "40",
        example: "Sum = n/2 √ó (2a‚ÇÅ+(n-1)d) = 5/2 √ó (4+12)=2.5√ó16=40.",
        vid: "https://www.khanacademy.org/math/algebra/sequences"
      },
      {
        question: "For geometric: a‚ÇÅ=1, r=2, a‚ÇÑ=?",
        answer: "8",
        example: "a‚ÇÑ=a‚ÇÅ¬∑r^(4‚àí1)=1√ó2¬≥=8.",
        vid: "https://www.khanacademy.org/math/algebra/sequences/geometric-sequences/v/introduction-to-geometric-sequences"
      },
      {
        question: "Find S‚ÇÉ for a geometric series with a‚ÇÅ=2, r=3.",
        answer: "26",
        example: "S‚ÇÉ=a‚ÇÅ(1‚àír¬≥)/(1‚àír)=2(1‚àí27)/(1‚àí3)=2√ó‚àí26/‚àí2=26.",
        vid: "https://www.khanacademy.org/math/algebra/sequences/geometric-series/v/geometric-series-introduction"
      }
    ]
  }
];

const savedStatus = JSON.parse(localStorage.getItem("maryamPrecalCheckmarks")||"{}");

function updateStatus(unitIdx, boxIdx, state) {
  const key = unitIdx+"_"+boxIdx;
  savedStatus[key]=state;
  localStorage.setItem("maryamPrecalCheckmarks",JSON.stringify(savedStatus));
}
function boxIsChecked(unitIdx, boxIdx) {
  return !!savedStatus[unitIdx+"_"+boxIdx];
}

// Render units and quiz boxes
function renderBoxes() {
  const container = document.getElementById("unitsContainer");
  container.innerHTML = "";
  unitsData.forEach((unit,uIdx)=>{
    const card = document.createElement("div");
    card.className = "unit-card";
    // Aesthetics
    card.innerHTML = `<div class="unit-title"><span class="emoji">${unit.emoji}</span>${unit.title}</div>`;
    // Quiz boxes
    const boxRow = document.createElement("div");
    boxRow.className = "box-row";
    unit.boxes.forEach((box,qIdx)=>{
      const qb = document.createElement("div");
      qb.className = "quizbox";
      if (boxIsChecked(uIdx,qIdx)) qb.classList.add("checked");
      qb.tabIndex=0;
      qb.setAttribute("aria-label",`Practice #${qIdx+1}`);
      qb.onclick = ()=>openModal(uIdx,qIdx);
      qb.onkeydown = e=>{if(e.key==='Enter'){openModal(uIdx,qIdx);}};
      if (boxIsChecked(uIdx,qIdx)) {
        qb.innerHTML = `<span class="checkmark">‚úîÔ∏è</span>`;
      } else {
        qb.textContent = qIdx+1;
      }
      boxRow.appendChild(qb);
    });
    card.appendChild(boxRow);
    container.appendChild(card);
  });
}
renderBoxes();

let currentUnit = 0, currentBox = 0;

function openModal(uIdx,qIdx) {
  currentUnit = uIdx; currentBox = qIdx;
  const box = unitsData[uIdx].boxes[qIdx];
  document.getElementById("modalBg").style.display="flex";
  document.getElementById("modalTitle").innerHTML = `Unit: ${unitsData[uIdx].title}`;
  document.getElementById("modalContent").innerHTML = `<b>Problem:</b> <br>${box.question}`;
  document.getElementById("modalExample").innerHTML = `üí° <i>${box.example}</i>`;
  document.getElementById("feedback").textContent = "";
  document.getElementById("userInput").value = "";
  document.getElementById("userInput").readonly=false;
  document.getElementById("modalForm").style.display="flex";
  document.getElementById("modalVideo").innerHTML = `<b>Learn More:</b> <a target="_blank" href="${box.vid}">Watch Video</a>`;
  setTimeout(()=>{document.getElementById("userInput").focus();},250);
}

function closeModal() {
  document.getElementById("modalBg").style.display="none";
}
document.getElementById("modalBg").onclick = e=>{
  if(e.target===document.getElementById("modalBg")) closeModal();
};

document.getElementById("modalForm").onsubmit=()=>{
  const box = unitsData[currentUnit].boxes[currentBox];
  let user = document.getElementById("userInput").value.trim().toLowerCase();
  let ans = String(box.answer).replace(/\s/g,"").toLowerCase();
  let correct = false;
  // Accept multiple answers separated by "," without whitespace
  if (ans.includes(",") && user.replace(/\s/g,"")===ans) correct = true;
  else if (!ans.includes(",")) {
    // Accept 1/6 and 0.16666 for fractions if relevant
    if(ans.match(/^\d+\/\d+$/) && (user===ans || Math.abs(eval(user)-eval(ans))<0.01)) correct=true;
    else if (user===ans) correct=true;
  }
  if(correct) {
    document.getElementById("feedback").textContent = "üéâ Correct! Well done!";
    document.getElementById("userInput").readonly=true;
    updateStatus(currentUnit,currentBox,true);
    setTimeout(()=>{
      closeModal();
      renderBoxes();
    },1200);
  } else {
    document.getElementById("feedback").textContent = "‚ùå Try again!";
  }
};

// Save on reload
window.addEventListener("storage", renderBoxes);
</script>
</body>
</html>
